name: Test Secret
on:
  workflow_dispatch:
  push:
    paths:
      - '.github/workflows/test-secret.yml'
      
jobs:
  test:
    runs-on: ubuntu-latest
    env:
      OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
      
    steps:
      - name: Check if secret exists
        run: |
          if [ -z "$OPENAI_API_KEY" ]; then
            echo "❌ OPENAI_API_KEY is NOT set"
            echo "Please add OPENAI_API_KEY to repository secrets"
            exit 1
          else
            echo "✅ OPENAI_API_KEY is set"
            echo "First 7 characters: ${OPENAI_API_KEY:0:7}"
          fi
